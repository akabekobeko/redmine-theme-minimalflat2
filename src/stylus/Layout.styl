// Layouts

@import "./common/Color.styl"

// Main
#main {
  background-color color_gray_light_b

  &.nosidebar #sidebar{
    display none
  }

  &.nosidebar #content{
    width auto
    border-right 0
  }
}

// Top menu
#top-menu {
  background color_indigo_dark
  color color_white
  height 1.6em
  font-size .7em
  padding .34em .2em 0 .6em

  ul {
    margin 0
    padding 0
  }

  li {
    float left
    list-style-type none
    margin 0
    padding 0
    white-space nowrap
  }

  a {
    color color_white
    margin-right .6em
    text-decoration none

    &:hover {
      color color_yellow
    }
  }

  .home:before {
    icon( icon_home, color_yellow )
  }

  .my-page:before {
    icon( icon_user, color_yellow )
  }

  .projects:before {
    icon( icon_app, color_yellow )
  }

  .administration:before {
    icon( icon_config, color_yellow )
  }

  .help:before {
    icon( icon_help_2, color_yellow )
  }

  #loggedas {
    float right
    margin-right .5em
    color color_white

    .user:before {
      icon( icon_user, color_yellow )
    }
  }
}

#account {
  float right

  .my-account:before {
    icon( icon_config, color_yellow )
  }

  .login:before {
    icon( icon_arrow_right, color_yellow )
  }

  .logout:before {
    icon( icon_arrow_left, color_yellow )
  }
}

// Header
#header {
  min-height 6em
  margin 0
  background-color color_indigo
  color color_white
  position relative

  h1 {
    margin 0
    padding .5em 0 0 .3em
    font-size 1.6em

    &:before {
      icon( icon_app, color_red )
    }
  }

  a {
    color #f8f8f8
  }
}

#quick-search {
  float right
  margin 1em .8em 0 0
  font-size .9em

  input[type="text"] {
    box-sizong border-box
    padding .3em .5em
    border solid 1px color_white
    border-radius .2em
    color color_indigo
  }

  select {
    color color_indigo
  }
}

// Main menu
#main-menu {
  position absolute
  bottom 0
  width 100%
  background-color color_indigo_light
  font-size .8em

  ul {
    margin 0
    padding 0
  }

  li {
    float left
    list-style-type none
    white-space nowrap

    a {
      display block
      border-top solid 2px color_indigo_light
      border-bottom solid 2px color_indigo_light
      color color_gray
      text-decoration none
      padding .5em 1em

      &:hover {
        border-top solid 2px color_yellow
        color color_white
      }

      &.selected {
        border-top solid 2px color_red
        color color_white
      }
    }
  }
}

// Administrator menu
#admin-menu {
  ul {
    margin 0
    padding 0
  }

  li {
    margin 0
    padding 0 0 6px 0
    list-style-type none
  }

  a {
    line-height 1.7em

    // Redmine default ( for plugin menu )
    background-position 0% 40%
    background-repeat no-repeat
    padding-left 20px
    padding-top 2px
    padding-bottom 3px

    .selected {
      padding-left 20px !important
      background-position 2px 40%
    }

    &.projects {
      padding-left 0

      &:before {
        icon( icon_app, color_blue )
      }
    }

    &.users {
      padding-left 0

      &:before {
        icon( icon_user, color_green )
      }
    }

    &.groups {
      padding-left 0

      &:before {
        icon( icon_group, color_green )
      }
    }

    &.roles {
      padding-left 0

      &:before {
        icon( icon_database_key, color_gray )
      }
    }

    &.trackers {
      padding-left 0

      &:before {
        icon( icon_ticket, color_yellow )
      }
    }

    &.issue_statuses {
      padding-left 0

      &:before {
        icon( icon_ticket, color_green )
      }
    }

    &.workflows {
      padding-left 0

      &:before {
        icon( icon_ticket, color_blue )
      }
    }

    &.custom_fields {
      padding-left 0

      &:before {
        icon( icon_textfield, color_gray )
      }
    }

    &.enumerations {
      padding-left 0

      &:before {
        icon( icon_list, color_gray )
      }
    }

    &.settings {
      padding-left 0

      &:before {
        icon( icon_config, color_gray )
      }
    }

    &.plugins {
      padding-left 0

      &:before {
        icon( icon_plugin, color_green )
      }
    }

    &.info {
      padding-left 0

      &:before {
        icon( icon_help, color_blue )
      }
    }

    &.server_authentication {
      padding-left 0

      &:before {
        icon( icon_server_key, color_yellow )
      }
    }
  }
}

// Sidebar
#sidebar{
  box-sizing border-box
  position relative
  z-index 9
  float right
  width 25%
  margin 0
  padding 0 1em

  a.selected {
    color color_red

    &:hover {
      text-decoration none
    }
  }

  h3 {
    margin .5em 0 .5em
    padding 0
    color color_gray_dark
    font-size 1.2em
  }

  hr {
    width 100%
    margin 0 auto
    height 1px
    background color_gray_light_a
    border 0
  }

  .contextual {
    margin-right 1em
  }

  ul {
    margin 0
    padding 0

    li {
      list-style-type none
      margin 0 2px 0 0
      padding 0
    }
  }
}

* html #sidebar{
  width 22%

  hr {
    width 95%
    position relative
    left -6px
    color color_gray_light_a
  }
}

// Content
#content {
  z-index 10
  box-sizing border-box
  width 75%
  margin 0
  padding .5em 1em
  border-right 1px solid color_gray_light_a
  background-color color_page_back
}

* html #content {
  width 75%
  padding-left 0
  margin-top 0
  padding 6px 10px 10px 10px
}

html > body #content {
  min-height 600px
}

// IE
* html body #content {
  height 600px
}

// Footer
#footer {
  clear both
  border-top 1px solid color_gray_light_a
  font-size .9em
  color color_gray_dark
  padding 5px
  text-align center
}

// Login form
#login-form {
  table {
    margin-top 5em
    padding 1em
    margin-left  auto
    margin-right  auto
    border 2px solid color_orange
    background-color color_orange_light

    td {
      padding .5em .5em
    }
  }

  label {
    font-weight bold
  }

  input#username, input#password {
    box-sizing border-box
    width 100%
    min-width 300px
  }
}

// For mobile
@media all and ( max-width: 480px ) {
  #login-form {
    input#username, input#password {
      min-width 100%
    }
  }
}

// Modal dialog
div.modal {
  z-index 50
  padding 4px
  border-radius 5px
  background color_white
}

div.modal h3.title {
  display none
}

div.modal p.buttons {
  text-align right
  margin-bottom 0
}

div.modal .box p {
  margin 0.3em 0
}

input#openid_url {
  background url(../images/openid-bg.gif) no-repeat
  background-color color_white
  background-position 0 50%
  padding-left 18px
}

.clear:after {
  content "."
  display block
  height 0
  clear both
  visibility hidden
}

.mobile-show {
  display none
}
